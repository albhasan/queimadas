---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  out.width = "100%"
)
```

# queimadas

<!-- badges: start -->
<!-- badges: end -->

The goal of `queimadas` is to provide tools for analyzing and reporting data
from wildfires in Brazil. These data aids during the selection of the
reference data used by the *Programa Queimadas* at the National Institute for
Space Research in Brazil.

## Installation

You can install the development version of queimadas from [GitHub](https://github.com/) with:

``` r
# install.packages("pak")
pak::pak("albhasan/queimadas")
```

## Examples

The following example shows how to download queimadas data.

```{r example_download_data, eval = FALSE}

zip_files <-
  download_data(
    out_dir = tempdir(),
    data_url = get_data_url(),
    wait_time = 5,
    overwrite_files = FALSE,
    quiet = FALSE
  )
```

These downloaded data still requires decompression, which can be achieved using
`unzip_files`. This will produce a set of CSV files.

The next example shows how to upload CSV data from queimadas to a database.

```{r example_build_database}
library(queimadas)

# List CSV files with data.
csv_files <-
  list.files(
    path = system.file("extdata", "sample_csv", package = "queimadas"),
    pattern = "*csv",
    recursive = TRUE,
    full.names = TRUE
  )

# Create a file database. 
db_con <- DBI::dbConnect(
  drv = RSQLite::SQLite(),
  dbname = tempfile(pattern = "queimadas.sqlite_")
)

# Load sample data to the database.
suppressMessages(
  load_database(
    db_con = db_con,
    file_paths = csv_files,
    c_types = "ddccccccdnncd",
    table_name = "fire_foci",
    disconnect = TRUE
  )
)
```
